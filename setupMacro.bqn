# Makes an importer that improves the ffi function creation syntax
MakeImporter â‡ {debugğ•ŠpathToBin: # Debug is useful for Segmentation Faults
  NestedStructToStr â† {
    1â‰¥â‰¡ğ•©?ğ•©;
    listsâ€¿atoms â† Ã—âˆ˜â‰¡Â¨âŠ¸(/ â‹ˆ Â¬âŠ¸/)ğ•©
    atomsâˆ¾'{'âˆ¾'}'Â«âˆ¾','âˆ¾Â¨ğ•ŠÂ¨lists
  }
  NestedStructToStrRet â† {
    1â‰¥â‰¡ğ•©?ğ•©;
    listsâ€¿atoms â† Ã—âˆ˜â‰¡Â¨âŠ¸(/ â‹ˆ Â¬âŠ¸/)ğ•©
    atomsâˆ¾'{'âˆ¾'}'Â«âˆ¾','âˆ¾Â¨ğ•ŠÂ¨"*"âŸ("*i8:c8"âŠ¸â‰¡âˆ¨"*u8:c8"âŠ¸â‰¡)Â¨lists
  }

  {ğ•¨ funcName _ğ•£ inpTypes: outTypeâ†ğ•¨âŠ£âŸ¨âŸ©
    aâ†'>'âŠ¸âˆ¾âŒ¾âŠ‘âŸ(1=â‰ ) NestedStructToStrÂ¨ğ•©
    HandleError â† {
      â€¢Out "DEBUG TYPE INFO:"
      â€¢Out â€¢Fmt ğ•©
      â€¢Out "END OF DEBUG TYPE INFO; BEGINING WITH FULL ERROR:"
      â€¢term.Flush@
      ğ•¨â€¢FFIğ•©
    }
    func â† pathToBin â€¢FFIâŠHandleError âŸ¨ NestedStructToStrRet outTypeâ‹„funcNameâŸ©âˆ¾a
    m â† strâŠ¸â‰¡Â¨a
    IfDebug â† {â€¢term.Flush@âŠ£â€¢Out funcName â‹„ ğ•âŠ£â€¢term.Flushâˆ˜@âŠ£â€¢Outâˆ˜funcName}
    IfDebugâŸdebug {ğ•âˆ¾âŸœ@}âŸ(aâ‰¡â‹ˆ'>'âˆ¾str) {ğ•âˆ¾âŸœ@Â¨âŒ¾(mâŠ¸/)}âŸ(âˆ¨Â´m) func
  }
}

# predefined C types
bool â‡ "i8"
c    â‡ "i8"
i    â‡ "i32"
f    â‡ "f32"
u    â‡ "u32"
i8   â‡ "i8"
u8   â‡ "u8"
str  â‡ "*i8:c8"
uStr â‡ "*u8:c8"
ptr  â‡ "*"

pathToBinary â‡ âŠ‘â€¢args
r â‡ 0 MakeImporter pathToBinary

##################################
# End of setup for easy ffi.     #
# Begining of autogenerated ffi. #
##################################
